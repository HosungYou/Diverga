# Diverga v8.0.0 Release Notes

## Project Visibility & HUD Enhancement Edition

**Release Date**: 2026-02-04
**Version**: 8.0.0
**Codename**: "Visible Research"

---

## Executive Summary

Diverga v8.0.0 introduces the **Project Visibility Enhancement** - a comprehensive improvement to researcher experience featuring an independent HUD statusline, simplified setup, natural language project initialization, and auto-generated research documentation. This release transforms how researchers interact with Diverga by making project state visible at all times and reducing friction in starting new research projects.

### Key Metrics

| Metric | Value |
|--------|-------|
| Total Skills | 52 (+1 HUD skill) |
| New Python Modules | 2 (intent_detector, project_initializer) |
| New TypeScript Modules | 5 (HUD system) |
| Auto-generated Docs | 7 files |
| Setup Steps | 3 (down from 9) |
| HUD Presets | 4 |
| Supported Languages | English + Korean |

---

## Core Philosophy

> **"Make research progress visible. Reduce friction to start."**
> **"ì—°êµ¬ ì§„í–‰ ìƒí™©ì„ ê°€ì‹œì ìœ¼ë¡œ. ì‹œì‘ì˜ ë§ˆì°°ì„ ìµœì†Œí™”."**

The Project Visibility Enhancement ensures that:
1. Research progress is **always visible** via statusline HUD
2. Starting a new project requires **no commands** - just describe your research
3. Documentation is **auto-generated** and kept in sync with project state
4. System files are **hidden**, researcher files are **visible**

---

## What's New in v8.0.0

### 1. Independent Diverga HUD

A standalone statusline display for research progress - completely independent of oh-my-claudecode.

#### Design Principles

- **No dependencies**: Pure Node.js, no npm packages required
- **Fully independent**: Works without oh-my-claudecode installed
- **Research-focused**: Displays project stage, checkpoints, memory health
- **Customizable**: 4 presets for different use cases

#### HUD Presets

| Preset | Display | Best For |
|--------|---------|----------|
| `research` | Stage + Checkpoints + Memory | Daily research work |
| `checkpoint` | Detailed checkpoint status | Decision-making sessions |
| `memory` | Memory health details | Debugging/troubleshooting |
| `minimal` | Stage name only | Clean terminal preference |

#### Visual Examples

**research preset** (default):
```
ğŸ”¬ AI-Ethics-HR â”‚ Stage: foundation â”‚ â—â—â—‹â—‹â—‹â—‹â—‹â—‹â—‹â—‹â—‹ (2/11) â”‚ ğŸ§  95%
```

**checkpoint preset**:
```
ğŸ”¬ AI-Ethics-HR â”‚ Stage: foundation
Checkpoints: â—â—â—‹â—‹â—‹â—‹â—‹â—‹â—‹â—‹â—‹ (2/11)
 âœ… CP_RESEARCH_DIRECTION â”‚ âœ… CP_PARADIGM_SELECTION
 ğŸ”´ CP_SCOPE_DEFINITION (pending)
```

**memory preset**:
```
ğŸ”¬ AI-Ethics-HR â”‚ foundation â”‚ ğŸ§  Memory: 95% healthy
```

**minimal preset**:
```
ğŸ”¬ AI-Ethics-HR â”‚ foundation
```

#### Installation

```json
// Add to ~/.claude/settings.json
{
  "statusLine": {
    "type": "command",
    "command": "node ~/.claude/hud/diverga-hud.mjs"
  }
}
```

Or run `/diverga-hud setup` for automatic installation.

---

### 2. File Structure Redesign

Clear separation between system files (hidden) and researcher files (visible).

#### Before v8.0

```
project_root/
â””â”€â”€ .research/              # Everything hidden
    â”œâ”€â”€ project-state.yaml
    â”œâ”€â”€ decision-log.yaml
    â””â”€â”€ ...
```

#### After v8.0

```
project_root/
â”œâ”€â”€ .research/              # System files (hidden)
â”‚   â”œâ”€â”€ project-state.yaml
â”‚   â”œâ”€â”€ decision-log.yaml
â”‚   â”œâ”€â”€ checkpoints.yaml
â”‚   â”œâ”€â”€ hud-state.json
â”‚   â”œâ”€â”€ baselines/
â”‚   â”œâ”€â”€ changes/
â”‚   â””â”€â”€ sessions/
â”‚
â””â”€â”€ docs/                   # Researcher files (visible)
    â”œâ”€â”€ PROJECT_STATUS.md   # Progress overview
    â”œâ”€â”€ DECISION_LOG.md     # Decision history
    â”œâ”€â”€ RESEARCH_AUDIT.md   # IRB/reproducibility
    â”œâ”€â”€ METHODOLOGY.md      # Research design
    â”œâ”€â”€ TIMELINE.md         # Milestones
    â”œâ”€â”€ REFERENCES.md       # Key papers
    â””â”€â”€ README.md           # Project overview
```

#### Auto-Synchronization

| Event | Triggered Update |
|-------|------------------|
| Decision added | DECISION_LOG.md, PROJECT_STATUS.md |
| Checkpoint completed | PROJECT_STATUS.md, TIMELINE.md |
| Methodology changed | METHODOLOGY.md |
| Reference added | REFERENCES.md |

---

### 3. Simplified Setup Wizard

Reduced from 9 steps to 3 steps for faster onboarding.

#### v7.0 Setup (9 steps)

1. Welcome
2. Skill symlinks
3. LLM provider selection
4. API key configuration
5. Checkpoint level
6. Default paradigm
7. Language preference
8. Generate config
9. Completion

#### v8.0 Setup (3 steps)

1. **Welcome + Project Detection**
   - Detects existing `.research/` directory
   - Shows project status if exists

2. **Settings (Single Screen)**
   - Checkpoint Level: Full / Minimal / Off
   - HUD Display: Enable / Disable
   - Language: Auto / English / Korean

3. **Apply & Complete**
   - Creates config files
   - Sets up HUD statusline
   - Shows next steps

#### Removed Options

| Option | Reason |
|--------|--------|
| LLM Provider | Claude Code already authenticated |
| API Key | Not needed in Claude Code |
| Default Paradigm | Auto-detected or asked during research |

---

### 4. Natural Language Project Initialization

Start research projects by describing them in natural language.

#### Supported Patterns

**English**:
- "I want to conduct a systematic review on {topic}"
- "meta-analysis on/about {topic}"
- "literature review about {topic}"
- "Start an experimental study on {topic}"

**Korean**:
- "{topic}ì— ëŒ€í•œ ì²´ê³„ì  ë¬¸í—Œê³ ì°°"
- "{topic} ë©”íƒ€ë¶„ì„"
- "ë¬¸í—Œê³ ì°°ì„ í•˜ê³  ì‹¶ì–´ìš”"
- "ì‹¤í—˜ ì—°êµ¬ë¥¼ ì‹œì‘í•˜ë ¤ê³  í•´ìš”"

#### Research Types Detected

| Type | English Keywords | Korean Keywords |
|------|------------------|-----------------|
| `systematic_review` | systematic review, PRISMA | ì²´ê³„ì  ë¬¸í—Œê³ ì°°, í”„ë¦¬ì¦ˆë§ˆ |
| `meta_analysis` | meta-analysis, pooled effect | ë©”íƒ€ë¶„ì„, ì–‘ì  ì¢…í•© |
| `literature_review` | literature review, narrative review | ë¬¸í—Œê³ ì°°, ë¬¸í—Œ ê²€í†  |
| `experimental` | RCT, experimental design | ì‹¤í—˜ì—°êµ¬, ì‹¤í—˜ ì„¤ê³„ |
| `qualitative` | phenomenology, grounded theory | ì§ˆì ì—°êµ¬, í˜„ìƒí•™, ê·¼ê±°ì´ë¡  |
| `mixed_methods` | mixed methods, sequential | í˜¼í•©ì—°êµ¬, í˜¼í•©ë°©ë²• |

#### Initialization Flow

```
User: "I want to conduct a meta-analysis on AI-assisted learning"
                           â”‚
                           â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚   Intent Detection     â”‚
              â”‚   Type: meta_analysis  â”‚
              â”‚   Topic: AI-assisted   â”‚
              â”‚   Confidence: 0.9      â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚   Confirmation Prompt  â”‚
              â”‚                        â”‚
              â”‚  Would you like to     â”‚
              â”‚  start a meta-analysis?â”‚
              â”‚                        â”‚
              â”‚  [Yes] [No] [Edit]     â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                      [Yes]â”‚
                           â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚   Auto-Initialize      â”‚
              â”‚                        â”‚
              â”‚  âœ… .research/ created â”‚
              â”‚  âœ… docs/ generated    â”‚
              â”‚  âœ… HUD activated      â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 5. Project Detection & Loading

Automatic context loading when entering a project directory.

#### Load Banner

When entering a directory with existing `.research/`:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âœ… í”„ë¡œì íŠ¸ ë¡œë“œë¨: AI-Ethics-HR                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ”¬ Stage: foundation â”‚ â—â—â—‹â—‹â—‹â—‹â—‹â—‹â—‹â—‹â—‹ (2/11) â”‚ ğŸ§  100%             â”‚
â”‚                                                                 â”‚
â”‚ ë§ˆì§€ë§‰ ì„¸ì…˜: 2026-02-04                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### Research Stages

| Order | Stage | Description |
|-------|-------|-------------|
| 1 | `foundation` | Research direction, RQ formulation |
| 2 | `design` | Methodology selection |
| 3 | `evidence` | Literature review |
| 4 | `collection` | Data collection |
| 5 | `analysis` | Data analysis |
| 6 | `synthesis` | Integration and interpretation |
| 7 | `publication` | Writing and submission |

---

## New Files

### HUD System (`lib/hud/`)

| File | Purpose | Description |
|------|---------|-------------|
| `colors.ts` | ANSI utilities | Color constants, RGB support, styling helpers |
| `state.ts` | State management | HUD state loading, caching, STAGES definition |
| `presets.ts` | Preset configs | 4 presets with render functions |
| `core.ts` | Rendering engine | HUDRenderer class, main logic |
| `index.ts` | Entry point | DivergaHUD facade, exports |

### HUD Wrapper (`~/.claude/hud/`)

| File | Purpose |
|------|---------|
| `diverga-hud.mjs` | Standalone Node.js statusLine script |

### Memory Extensions (`lib/memory/src/`)

| File | Purpose |
|------|---------|
| `intent_detector.py` | Research intent detection from natural language |
| `project_initializer.py` | Auto-project initialization from intent |

### Skill Definition (`skills/hud/`)

| File | Purpose |
|------|---------|
| `SKILL.md` | HUD skill for Claude Code |

---

## Modified Files

| File | Changes |
|------|---------|
| `lib/memory/src/doc_generator.py` | 3â†’7 docs, STAGES, helpers |
| `lib/memory/src/memory_api.py` | HUD methods, docs sync, intent detection |
| `skills/setup/SKILL.md` | 9â†’3 steps, HUD option |
| `CLAUDE.md` | v8.0 update |

---

## HUD Commands

| Command | Description |
|---------|-------------|
| `/diverga-hud status` | Show HUD status and current preset |
| `/diverga-hud preset <name>` | Change preset (research, checkpoint, memory, minimal) |
| `/diverga-hud enable` | Enable HUD display |
| `/diverga-hud disable` | Disable HUD display |
| `/diverga-hud setup` | Setup HUD in ~/.claude/settings.json |

---

## API Reference

### Intent Detection

```python
from lib.memory.src.intent_detector import detect_intent, ResearchType

result = detect_intent("I want to do a meta-analysis on AI")
# IntentResult(
#     is_research_intent=True,
#     research_type=ResearchType.META_ANALYSIS,
#     topic="AI",
#     confidence=0.9,
#     paradigm="quantitative",
#     matched_patterns=[...],
#     additional_context={"language": "en", ...}
# )
```

### Project Initialization

```python
from lib.memory.src.project_initializer import initialize_project

result = initialize_project(
    project_name="AI-Learning-Meta",
    research_question="How does AI improve learning?",
    paradigm="quantitative",
    hud_enabled=True
)
# {
#     "success": True,
#     "project_root": "/path/to/project",
#     "created_files": [".research/...", "docs/..."],
#     "errors": []
# }
```

### MemoryAPI Extensions

```python
from lib.memory import MemoryAPI

memory = MemoryAPI()

# HUD
memory.refresh_hud()               # Update HUD cache

# Documentation
memory.sync_docs()                 # Sync all 7 docs
memory.sync_doc("TIMELINE.md")     # Sync single doc

# Intent Detection
memory.detect_research_intent("ì²´ê³„ì  ë¦¬ë·° í•˜ê³  ì‹¶ì–´ìš”")
memory.should_init_project(message)
memory.initialize_from_message(message)
memory.get_load_banner()
```

---

## Migration from v7.0

Migration is **fully automatic**. No manual steps required.

### What Happens Automatically

1. Existing `.research/` directories preserved
2. `docs/` directory created on first state change
3. HUD can be enabled via `/diverga-hud setup`

### Optional Steps

```bash
# Enable HUD (recommended)
/diverga-hud setup

# Regenerate docs
/diverga-memory sync-docs
```

---

## Technical Notes

### HUD Implementation

- **Source**: TypeScript in `lib/hud/`
- **Runtime**: Pure Node.js ESM (`~/.claude/hud/diverga-hud.mjs`)
- **Dependencies**: None (stdlib only)
- **State file**: `.research/hud-state.json`

### Intent Detection

- **Bilingual**: English + Korean patterns
- **Method**: Regex-based matching
- **Confidence**: 0.0 - 1.0 scale
- **Threshold**: 0.7 for auto-init

### Doc Generator

- **Format**: Markdown
- **Templates**: Inline (no external deps)
- **Sync**: Triggered by state changes
- **Files**: 7 auto-generated documents

---

## Known Limitations

1. **HUD requires Node.js**: statusLine feature needs Node.js installed
2. **Korean topic extraction**: May be less accurate than English
3. **docs/ sync**: Only triggered on explicit API calls, not file edits

---

## Coming in v8.1

- [ ] Real-time docs sync on file changes
- [ ] HUD web dashboard option
- [ ] More language support (Spanish, Chinese)
- [ ] Visual stage progression indicator

---

## Contributors

- Diverga Project Team
- Claude Code Integration

---

## Verification Checklist

```
âœ… Intent detector: Correctly identifies research types
âœ… HUD presets: All 4 presets render correctly
âœ… Doc generator: 7 files generated properly
âœ… Setup wizard: 3-step flow works
âœ… Project initialization: Auto-creates structure
âœ… Korean support: Bilingual detection works
```
