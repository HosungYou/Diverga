# Research Coordinator Model Routing Configuration
# Version: 6.0.0 (Human-Centered Edition)
# Core Principle: 인간이 할 일은 인간이, AI는 인간 범위를 벗어난 작업 수행

# Tier Definitions
tiers:
  HIGH:
    model: opus
    description: "Strategic decisions, critical thinking, complex reasoning"
    cost_factor: 3.0
    use_when:
      - "Research direction decisions"
      - "Theoretical framework design"
      - "Critical analysis and challenge"
      - "Strategic peer review responses"

  MEDIUM:
    model: sonnet
    description: "Standard analysis, quality assessment, documentation"
    cost_factor: 1.0
    use_when:
      - "Quality evaluation with criteria"
      - "Statistical method selection"
      - "Document writing"
      - "Journal matching"

  LOW:
    model: haiku
    description: "Automated tasks, calculations, searches"
    cost_factor: 0.2
    use_when:
      - "Literature search"
      - "Formula application"
      - "Code generation"
      - "Checklist verification"

# Agent-to-Tier Mapping (33 Agents in 8 Categories)
agent_routing:
  # ============================================
  # Category A: Foundation (6 agents)
  # ============================================
  "A1-research-question-refiner":
    tier: HIGH
    model: opus
    rationale: "Strategic research direction - requires deep reasoning"
    human_checkpoint: CP_RESEARCH_DIRECTION

  "A2-theoretical-framework-architect":
    tier: HIGH
    model: opus
    rationale: "Complex theoretical integration across disciplines"
    human_checkpoint: CP_THEORY_SELECTION

  "A3-devils-advocate":
    tier: HIGH
    model: opus
    rationale: "Critical thinking requires sophisticated reasoning"
    human_checkpoint: null
    parallel_with: ["A2-theoretical-framework-architect"]

  "A4-research-ethics-advisor":
    tier: MEDIUM
    model: sonnet
    rationale: "Regulatory compliance - criteria-based evaluation"
    human_checkpoint: CP_METHODOLOGY_APPROVAL

  "A5-paradigm-worldview-advisor":
    tier: HIGH
    model: opus
    rationale: "Ontology, epistemology, axiology alignment"
    human_checkpoint: CP_PARADIGM_SELECTION

  "A6-conceptual-framework-visualizer":
    tier: MEDIUM
    model: sonnet
    rationale: "Visualization with Nanobanana integration"
    human_checkpoints:
      - CP_VISUALIZATION_PREFERENCE
      - CP_RENDERING_METHOD
      - CP_QUALITY_REVIEW

  # ============================================
  # Category B: Evidence (4 agents)
  # ============================================
  "B1-systematic-literature-scout":
    tier: MEDIUM
    model: sonnet
    rationale: "Multi-review methodology selection requires judgment"
    human_checkpoint: null
    parallelizable: true
    spawn_multiple: true

  "B2-evidence-quality-appraiser":
    tier: MEDIUM
    model: sonnet
    rationale: "Quality criteria application requires judgment"
    human_checkpoint: null
    parallelizable: true
    spawn_multiple: true

  "B3-effect-size-extractor":
    tier: LOW
    model: haiku
    rationale: "Formula application - computational task"
    human_checkpoint: null
    parallelizable: true
    spawn_multiple: true

  "B4-research-radar":
    tier: LOW
    model: haiku
    rationale: "Monitoring and alerting - background task"
    human_checkpoint: null
    parallelizable: true

  # ============================================
  # Category C: Design (4 agents)
  # ============================================
  "C1-quantitative-design-consultant":
    tier: HIGH
    model: opus
    rationale: "Strategic design decisions with tradeoffs"
    human_checkpoint: CP_METHODOLOGY_APPROVAL

  "C2-qualitative-design-consultant":
    tier: HIGH
    model: opus
    rationale: "Phenomenology, GT, case study design"
    human_checkpoint: CP_METHODOLOGY_APPROVAL

  "C3-mixed-methods-design-consultant":
    tier: HIGH
    model: opus
    rationale: "Sequential, convergent, embedded design decisions"
    human_checkpoint: CP_METHODOLOGY_APPROVAL

  "C4-experimental-materials-developer":
    tier: MEDIUM
    model: sonnet
    rationale: "Intervention materials, stimuli development"
    human_checkpoint: null

  # ============================================
  # Category D: Data Collection (4 agents)
  # ============================================
  "D1-sampling-strategy-advisor":
    tier: MEDIUM
    model: sonnet
    rationale: "Probability/non-probability sampling strategy"
    human_checkpoint: null

  "D2-interview-focus-group-specialist":
    tier: MEDIUM
    model: sonnet
    rationale: "Interview protocol, focus group design"
    human_checkpoint: null

  "D3-observation-protocol-designer":
    tier: LOW
    model: haiku
    rationale: "Observation protocol templates"
    human_checkpoint: null

  "D4-measurement-instrument-developer":
    tier: HIGH
    model: opus
    rationale: "Survey/scale development, psychometric validation"
    human_checkpoint: CP_METHODOLOGY_APPROVAL

  # ============================================
  # Category E: Analysis (5 agents)
  # ============================================
  "E1-quantitative-analysis-guide":
    tier: HIGH
    model: opus
    rationale: "Statistical method selection with assumption checking"
    human_checkpoint: CP_ANALYSIS_PLAN

  "E2-qualitative-coding-specialist":
    tier: HIGH
    model: opus
    rationale: "Codebook development, thematic analysis, saturation"
    human_checkpoint: null

  "E3-mixed-methods-integration":
    tier: HIGH
    model: opus
    rationale: "Joint display tables, integration strategies"
    human_checkpoint: CP_INTEGRATION_STRATEGY

  "E4-analysis-code-generator":
    tier: LOW
    model: haiku
    rationale: "Code generation from templates"
    human_checkpoint: null
    parallelizable: true

  "E5-sensitivity-analysis-designer":
    tier: MEDIUM
    model: sonnet
    rationale: "Robustness testing, specification curve design"
    human_checkpoint: null

  # ============================================
  # Category F: Quality (4 agents)
  # ============================================
  "F1-internal-consistency-checker":
    tier: LOW
    model: haiku
    rationale: "Pattern matching and verification"
    human_checkpoint: null
    parallelizable: true

  "F2-checklist-manager":
    tier: LOW
    model: haiku
    rationale: "Checklist verification - rule-based"
    human_checkpoint: null
    parallelizable: true

  "F3-reproducibility-auditor":
    tier: MEDIUM
    model: sonnet
    rationale: "Reproducibility assessment requires judgment"
    human_checkpoint: null
    parallelizable: true

  "F4-bias-trustworthiness-detector":
    tier: MEDIUM
    model: sonnet
    rationale: "Bias analysis requires methodological understanding"
    human_checkpoint: null

  # ============================================
  # Category G: Communication (4 agents)
  # ============================================
  "G1-journal-matcher":
    tier: MEDIUM
    model: sonnet
    rationale: "Matching algorithm with multiple criteria"
    human_checkpoint: null

  "G2-academic-communicator":
    tier: MEDIUM
    model: sonnet
    rationale: "Multi-audience writing requires adaptation"
    human_checkpoint: null
    parallelizable: true
    spawn_multiple: true

  "G3-peer-review-strategist":
    tier: HIGH
    model: opus
    rationale: "Strategic response requires sophisticated reasoning"
    human_checkpoint: CP_RESPONSE_APPROVAL

  "G4-preregistration-composer":
    tier: MEDIUM
    model: sonnet
    rationale: "Document composition with structure"
    human_checkpoint: CP_PREREGISTRATION_APPROVAL

  # ============================================
  # Category H: Specialized (2 agents)
  # ============================================
  "H1-ethnographic-research-advisor":
    tier: HIGH
    model: opus
    rationale: "Fieldwork planning, thick description, reflexivity"
    human_checkpoint: CP_METHODOLOGY_APPROVAL

  "H2-action-research-facilitator":
    tier: HIGH
    model: opus
    rationale: "Participatory action research, community engagement"
    human_checkpoint: CP_METHODOLOGY_APPROVAL

# Routing Rules
routing_rules:
  auto_triggers:
    - pattern: ["연구 질문", "research question", "PICO", "SPIDER"]
      route_to: "A1-research-question-refiner"
      tier: HIGH

    - pattern: ["이론", "theory", "프레임워크", "framework", "conceptual model"]
      route_to: "A2-theoretical-framework-architect"
      tier: HIGH

    - pattern: ["패러다임", "paradigm", "존재론", "인식론", "ontology", "epistemology"]
      route_to: "A5-paradigm-worldview-advisor"
      tier: HIGH

    - pattern: ["문헌 검색", "literature search", "PRISMA", "systematic review"]
      route_to: "B1-systematic-literature-scout"
      tier: MEDIUM
      allow_parallel: true

    - pattern: ["통계", "분석", "ANOVA", "regression", "회귀"]
      route_to: "E1-quantitative-analysis-guide"
      tier: HIGH

    - pattern: ["질적 코딩", "thematic", "coding", "NVivo"]
      route_to: "E2-qualitative-coding-specialist"
      tier: HIGH

    - pattern: ["저널", "journal", "투고", "submission"]
      route_to: "G1-journal-matcher"
      tier: MEDIUM

    - pattern: ["시각화", "visualization", "그래프", "figure", "diagram"]
      route_to: "A6-conceptual-framework-visualizer"
      tier: MEDIUM

  fallback:
    unknown_pattern: "general-purpose"
    default_tier: MEDIUM
    default_model: sonnet

# Token Efficiency Settings
efficiency:
  prefer_lower_tier: true
  batch_parallel_tasks: true
  reuse_context: true

  estimated_savings:
    low_tier_vs_high: 0.80
    medium_tier_vs_high: 0.50
    overall_average: 0.60

# Logging (v6.0: removed OMC reference)
logging:
  log_tier_selection: true
  log_checkpoint_decisions: true
  log_parallel_execution: true
  log_file: ".claude/logs/routing.log"
